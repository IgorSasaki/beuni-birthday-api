# ğŸ“š DocumentaÃ§Ã£o da API â€“ BeUni Birthday API

## ğŸŒ VisÃ£o Geral

A BeUni Birthday API Ã© o backend da plataforma responsÃ¡vel pela **gestÃ£o de colaboradores aniversariantes**. Ela permite que empresas gerenciem aniversÃ¡rios de funcionÃ¡rios e simulem o envio de brindes personalizados conforme o mÃªs de nascimento.

A arquitetura do projeto segue os princÃ­pios de **Clean Architecture** e **SOLID**, utilizando o ecossistema **Node.js + Express + TypeORM + Zod**, com autenticaÃ§Ã£o via **JWT** e banco de dados **SQLite**.

---

## ğŸš€ Tecnologias Utilizadas

- **Node.js** v20.18.0
- **Express.js** v5.1.0
- **SQLite3** v5.1.7
- **TypeORM** v0.3.25
- **JWT** para autenticaÃ§Ã£o
- **Zod** para validaÃ§Ã£o de dados
- **ts-node-dev** para ambiente de desenvolvimento
- **Docker + Dockerfile** para build containerizado
- **ESLint + Prettier + Husky + Commitizen** para padronizaÃ§Ã£o e qualidade

---

## ğŸ“ Estrutura de Pastas

```
src/
â”œâ”€â”€ config/            # ConfiguraÃ§Ãµes (Data Source, env)
â”œâ”€â”€ controllers/       # Controllers (ponto de entrada das rotas)
â”œâ”€â”€ entities/          # Entidades do TypeORM
â”œâ”€â”€ middlewares/       # Middlewares (auth)
â”œâ”€â”€ routes/            # Arquivo central de rotas
â”œâ”€â”€ services/          # Regras de negÃ³cio (Use Cases)
â”œâ”€â”€ validators/        # Schemas de validaÃ§Ã£o com Zod
â”œâ”€â”€ utils/             # FunÃ§Ãµes utilitÃ¡rias
â””â”€â”€ server.ts          # Arquivo principal da aplicaÃ§Ã£o
```

---

## ğŸ” AutenticaÃ§Ã£o

Todas as rotas protegidas requerem o header:

```http
Authorization: Bearer <token>
```

O token JWT Ã© gerado no login e contÃ©m o `userId` que Ã© injetado em `request.user` pelo middleware `authenticate`.

---

## ğŸ“˜ Endpoints da API

### ğŸ“Œ **UsuÃ¡rios**

#### `POST /users`

CriaÃ§Ã£o de usuÃ¡rio

```json
Request Body:
{
  "name": "Igor Sasaki",
  "email": "igor@email.com",
  "password": "senha"
}
```

Status: `201 Created`

#### `POST /auth`

Login do usuÃ¡rio

```json
Request Body:
{
  "email": "igor@email.com",
  "password": "senha"
}
```

Response:

```json
{
  "token": "<jwt_token>",
  "user": { "userId": "...", "name": "Igor", "email": "..." }
}
```

---

### ğŸ“Š **Dashboard**

#### `GET /dashboard`

Resumo de dados (requer token)

Response:

```json
{
  "totalEmployees": 20,
  "birthdaysThisMonth": [...],
  "requestGiftsThisMonth": [...]
}
```

---

### ğŸ‘¥ **FuncionÃ¡rios (Employees)**

#### `POST /employees`

CriaÃ§Ã£o de um funcionÃ¡rio

```json
Request Body:
{
  "fullName": "JoÃ£o Silva",
  "birthDate": "1995-06-15",
  "cep": "14801-100",
  "street": "Rua Teste",
  "number": "123",
  "complement": "",
  "neighborhood": "Centro",
  "city": "Araraquara",
  "state": "SP",
  "giftSize": "M",
  "position": "frontend-developer",
  "department": "ti"
}
```

Status: `201 Created`

#### `GET /employees`

Listagem com filtros

Query params suportados:

- `searchTerm`: busca por nome, cargo ou depto
- `department`: filtro por departamento
- `month`: nÃºmero do mÃªs (1â€“12)
- `status`: `PENDING`, `SENT`, `DELIVERED`

Response:

```json
[
  {
    "employeeId": "uuid",
    "fullName": "...",
    "position": "frontend-developer",
    "department": "ti",
    "birthDate": "1995-06-15",
    "status": "PENDING"
  }
]
```

#### `GET /employees/:employeeId`

Detalhe do funcionÃ¡rio

---

### ğŸ **Brindes (Gifts)**

#### `POST /gifts`

CriaÃ§Ã£o de requisiÃ§Ã£o de brinde

```json
Request Body:
{
  "employeeId": "uuid"
}
```

#### `GET /gifts`

Listagem de todos os brindes do usuÃ¡rio autenticado

#### `PUT /gifts/:giftId`

Atualiza o status do brinde

```json
Request Body:
{
  "status": "DELIVERED" | "SENT"
}
```

---

## âœ… CÃ³digos de Status

- `200 OK`: Sucesso
- `201 Created`: Recurso criado
- `400 Bad Request`: ValidaÃ§Ã£o incorreta
- `401 Unauthorized`: Sem token vÃ¡lido
- `404 Not Found`: NÃ£o encontrado
- `409 Conflict`: JÃ¡ existe
- `500 Internal Server Error`: Falha inesperada

---

## ğŸ§ª Testes e Qualidade

- ESLint + Prettier com Husky
- Commitlint com padrÃ£o semÃ¢ntico
- Dockerfile otimizado multi-stage
- Scripts de lint, build e start

---

## ğŸ“„ ObservaÃ§Ãµes

- Todos os campos sÃ£o validados via Zod com mensagens em inglÃªs
- UtilizaÃ§Ã£o de `tsconfig-paths` para aliases internos
- O backend nÃ£o expÃµe senhas em nenhuma resposta
- As entidades respeitam relacionamento e seguranÃ§a via DTOs

---

## âœ‰ï¸ Contato

Igor Sasaki â€“ Desenvolvedor Full Stack | [github.com/IgorSasaki](https://github.com/IgorSasaki)

Se precisar de ajuda para montar a apresentaÃ§Ã£o ou gravar o pitch tÃ©cnico, posso gerar isso pra vocÃª tambÃ©m.
