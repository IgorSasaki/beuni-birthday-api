# BeUni Birthday API

Sistema de gerenciamento de aniversariantes e brindes corporativos

## ‚ú® Sobre o Projeto

API RESTful desenvolvida em **Node.js** com **TypeScript**, utilizando **Express**, **TypeORM** e **SQLite** como banco de dados. A API permite o cadastro de funcion√°rios, listagem por filtros, requisi√ß√£o e atualiza√ß√£o de status de brindes, al√©m de controle de autentica√ß√£o JWT e dashboard personalizado.

## ‚õè Tecnologias e Ferramentas

- **Node.js 20.18.0**
- **Express 5.x**
- **SQLite** (via TypeORM)
- **TypeORM** para ORM
- **Zod** para valida√ß√µes
- **JWT** para autentica√ß√£o
- **dotenv** para vari√°veis de ambiente
- **ts-node-dev** para ambiente de dev
- **Husky + Lint-staged** para padroniza√ß√£o
- **Commitizen** para mensagens sem√¢nticas

## üî® Instala√ß√£o

### Usando npm

```bash
npm install
npm run dev
```

### Usando pnpm

```bash
pnpm install
pnpm run dev
```

## ‚öô Scripts

```bash
npm run dev     # Dev server com ts-node-dev
npm run build   # Build para produ√ß√£o (tsc + tsc-alias)
npm run start   # Inicia a aplica√ß√£o compilada
npm run lint    # ESLint + Prettier
npm run commit  # Commit sem√¢ntico
```

## üìÇ Estrutura de Pastas

```
src/
 ‚îú‚îÄ‚îÄ controllers/         # L√≥gica das rotas
 ‚îú‚îÄ‚îÄ entities/            # Entidades do TypeORM
 ‚îú‚îÄ‚îÄ middlewares/         # Autentica√ß√£o e erros
 ‚îú‚îÄ‚îÄ services/            # Regras de neg√≥cio
 ‚îú‚îÄ‚îÄ validators/          # Zod schemas
 ‚îú‚îÄ‚îÄ config/              # Banco e inicializa√ß√£o
 ‚îî‚îÄ‚îÄ routes.ts            # Rotas da aplica√ß√£o
```

## ‚ú® Endpoints da API

### Auth

| M√©todo | Rota     | Descri√ß√£o           |
| ------ | -------- | ------------------- |
| POST   | `/users` | Registro de usu√°rio |
| POST   | `/auth`  | Login e gera token  |

### Employees

| M√©todo | Rota             | Descri√ß√£o                               |
| ------ | ---------------- | --------------------------------------- |
| GET    | `/employees`     | Lista todos os funcion√°rios com filtros |
| GET    | `/employees/:id` | Busca um funcion√°rio por ID             |
| POST   | `/employees`     | Cria um novo funcion√°rio                |

**Filtros dispon√≠veis:**

- `searchText`: Nome, cargo ou departamento
- `department`: Valor do departamento
- `month`: M√™s de anivers√°rio (1 a 12)
- `status`: Status do brinde (`PENDING`, `DELIVERED`, etc.)

### Gifts

| M√©todo | Rota             | Descri√ß√£o                    |
| ------ | ---------------- | ---------------------------- |
| POST   | `/gifts`         | Cria requisi√ß√£o de brinde    |
| PUT    | `/gifts/:giftId` | Atualiza status de um brinde |
| GET    | `/gifts`         | Lista todos os brindes       |

### Dashboard

| M√©todo | Rota         | Descri√ß√£o                                          |
| ------ | ------------ | -------------------------------------------------- |
| GET    | `/dashboard` | Retorna aniversariantes do m√™s e brindes pendentes |

- **Vari√°veis de Ambiente**:

```env
PORT=3333
JWT_SECRET=seu_segredo
```

- **Endpoints da API**: Tabelas por m√≥dulo
- **Fluxo de autentica√ß√£o**:

  - POST /auth gera um token JWT
  - Esse token √© usado via Bearer Token nas demais rotas protegidas

- **Filtros dispon√≠veis** nas rotas GET /employees
- **Status dos brindes**: `PENDING`, `SENT`, `DELIVERED`, `NOT_REQUESTED`
